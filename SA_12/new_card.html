<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>付款</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body style="background-color: #f8f5f4;">
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" style="background-color: rgba(77,78,84,1);">
        <div class="container" style="height:62px; width: 1170px; margin-right: auto;margin-left: auto;"> 
          <a class="navbar-brand" href="browse.html" style="color:#FFFFFF; font-weight: 600; font-size: 24px;">Tour<span style="color:rgb(0, 216, 255);">Nest</span></a>


            <ul class="navbar-nav    ms-auto">
              <li class="nav-item" style="padding-right:15px;">
                <a class="nav-link" style="color:#FFFFFF; font-size: 16.5px; " href="#">刊登家中空房</a>
              </li>
              <li class="nav-item" style="padding-right:20px;" >
                <a class="nav-link" style="color:#FFFFFF; font-size: 16.5px;" href="#">加入會員</a>
              </li>
              <li class="nav-item" style="padding-right:15px;">
                <button  style="color:#FFFFFF; width: 120px;background: rgb(0, 216, 255);    border-width: 1px;
                border-style: solid;font-size: 14px;
                border-color: rgb(0, 216, 255);border-radius: 5px;height: 40px;" >登入</button>
              </li>
            </ul>
        

        </div>
      </nav>

      <div class="container px-5" style="color: #2a2a2e;">
          <div class=""  style="background-color: #fcfcfc; padding-top: 110px;">
              <div class="row ps-5 gx-5">
                  <div class="col-md-7 ">
                    <div class="">
                        <h4 class="mb-3 fw-bold">付款資訊</h4>
                        <hr class="mb-4">
                      
          
                      
          
                      <div class="mb-4">
                        <label for="address" class="mb-1">信用卡卡號<span style="color:red; font-weight: 900;">  *</span></label>
                        <input type="text" class="form-control" id="emailconfirm" maxlength="255" placeholder="" required="">
                      </div>
                      <div class="row">
                        <div class="col-md-4 mb-2">
                          <label for="lastName">有效月<span style="color:red; font-weight: 900;">  *</span></label>
                          <input type="text" class="form-control" id="last_name" maxlength="10" placeholder="輸入月" value="" required="">
                        </div>
          
                        <div class="col-md-4 mb-4">
                          <label for="firstName">有效年<span style="color:red; font-weight: 900;">  *</span></label>
                          <input type="text" class="form-control" id="first_name" maxlength="10" placeholder="輸入年" value="" required="">
                        </div>
                        <div class="col-md-4 mb-4">
                            <label for="firstName">末三碼<span style="color:red; font-weight: 900;">  *</span></label>
                            <input type="text" class="form-control" id="first_name" maxlength="10" placeholder="輸入末三碼" value="" required="">
                          </div>
                      </div>
                      
                      <h4 class="mt-3 mb-3 fw-bold">相關的重要資訊</h4>
                        <hr class="mb-4">
                      
                      <div>
                          <p>1. 如於入住前兩天取消訂單，您必須支付相當於預訂總金額 20% 的住宿費用。</p>
                          <p>2. 如預定後未入住，您必須支付相當於預訂總金額 100% 的住宿費用。</p>
                          <p>3. 此飯店要求房客必須年滿 18 歲才能辦理入住登記手續。</p>
                          <p>4. 即使抵達時間延遲，仍可以保證入住。</p>
                          <p>5. 所顯示的價格「不包含」任何適用的住宿服務費、選擇性服務雜費 (如迷你酒吧點心或電話費)，或是一般性附加費用。住宿業者會在退房時收取這些費用與附加費用。</p>
                      </div>
                      </form>
                      
                        
                      
                      
          
                     
          
                    </div>
                  </div>
                 
                  <div class="col-md-5 ">
                    <div class="bg-white border ps-3 py-3 mb-4" id="image_panel" style="width: 411px;">
                       
                        
                    </div>
                    <div class="bg-white border ps-3 py-3 " style="width: 411px;">
                        <div class="row">
                            <div class="col-3">
                                <p class="fw-bold" style="font-size: medium;">名稱</p>
                            </div>
                            <div class="col-9">
                                <p class="fw-bold" id="name_panel" style="font-size: medium;"> </p>
                            </div>
                            
                            <div class="col-3">
                                <p class="fw-bold" style="font-size: medium;">入住日期</p>
                            </div>
                            
                            <div class="col-9">
                                <p class="fw-bold" style="font-size: medium;">2022-04-11</p>
                            </div>
                            <div class="col-3">
                                <p class="fw-bold" style="font-size: medium;">退房日期</p>
                            </div>
                            <div class="col-9">
                                <p class="fw-bold" style="font-size: medium;">2022-04-15</p>
                            </div>
                            <div class="col-3">
                                <p class="fw-bold" style="font-size: medium;">價格</p>
                            </div>
                            <div class="col-9">
                                <p class="fw-bold" id="price_panel" style="font-size: medium;"> </p>
                            </div>
                            <div class="col-3">
                                <p class="fw-bold" style="font-size: medium;">人數</p>
                            </div>
                            <div class="col-9">
                                <p class="fw-bold" style="font-size: medium;">4人</p>
                            </div>
                        </div>
                        
                    </div>
                    
                    <div class="pt-4" style="padding-left: 0px;">
                        <a href="new_member.html" type="button" class="btn btn-secondary fw-bold" style="width: 170px;">完成預定</a>
                    </div>
                    
                  </div>
              </div>
          </div>
      </div>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
<script type="text/javascript">
	var url_string = window.location.href;
	var url = new URL(url_string);
	var id = url.searchParams.get("id");
	var last_name = url.searchParams.get("last_name");
	var first_name = url.searchParams.get("first_name");
	var email = url.searchParams.get("email");
	
	console.log(last_name);
	
	
	function getProductData() {
		
		$.ajax({
	        type: "GET",
	        url: "api/product.do",
	        data: "id=" + id,
	        crossDomain: true,
	        cache: false,
	        dataType: 'json',
	        timeout: 5000,
	        success: function (response) {
	            if(response.status == 200){
	            	$.each(response.response.data, function (){
	                	
	                  	$("#image_panel").append(addImage(this));
	                  	$("#name_panel").append(addName(this));
	                    $("#price_panel").append(addPrice(this));
	            	})	            	
	            }
	            
	        },
	        error: function () {
	            alert("無法連線到伺服器！");
	        }
	  });
		
	}
	
	function addImage(data){
		let inner_html = '';
		inner_html += '<div style="height: 225px; width: 375px; background-image: url('+data.image+'); background-position: center; background-size: cover;">'
		inner_html += '</div>'
	    
		return inner_html;
	}
	
	function addName(data){
		return data.name;
	}
	
	function addPrice(data){
		return data.price;
	}

getProductData();
</script>
</html>