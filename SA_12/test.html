<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
  <meta name="generator" content="Jekyll v3.8.5">

  <title>購物車 ｜ NCU MIS SA</title>

  <!-- Bootstrap core CSS -->
  <link href="statics/css/bootstrap.min.css" rel="stylesheet">
  <link href="statics/css/font-awesome.min.css" rel="stylesheet">
  <link href="statics/icon/favicon.ico" type="image/x-icon" rel="icon">
  <link href="statics/icon/favicon.ico" type="image/x-icon" rel="shortcut icon">

<!--font-family-->
<link href="https://fonts.googleapis.com/css?family=Rufina:400,700" rel="stylesheet" />

<link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900" rel="stylesheet" />

<!-- TITLE OF SITE -->
<title>Travel</title>

<!-- favicon img -->
<link rel="shortcut icon" type="image/icon" href="assets/logo/favicon.png"/>

<!--font-awesome.min.css-->
<link rel="stylesheet" href="assets/css/font-awesome.min.css" />
<link rel="stylesheet" href="https://pro.fontawesome.com/releases/v5.10.0/css/all.css" integrity="sha384-AYmEC3Yw5cVb3ZcuHtOA93w35dYTsvhLPVnYs9eStHfGJvOvKxVfELGroGkvsg+p" crossorigin="anonymous"/>
<!--animate.css-->
<link rel="stylesheet" href="assets/css/animate.css" />

<!--hover.css-->
<link rel="stylesheet" href="assets/css/hover-min.css">

<!--datepicker.css-->
<link rel="stylesheet"  href="assets/css/datepicker.css" >

<!--owl.carousel.css-->
<link rel="stylesheet" href="assets/css/owl.carousel.min.css">
<link rel="stylesheet" href="assets/css/owl.theme.default.min.css"/>

<!-- range css-->
<link rel="stylesheet" href="assets/css/jquery-ui.min.css" />

<!--bootstrap.min.css-->
<link rel="stylesheet" href="assets/css/bootstrap.min.css" />

<!-- bootsnav -->
<link rel="stylesheet" href="assets/css/bootsnav.css"/>

<!--style.css-->
<link rel="stylesheet" href="assets/css/style.css" />

<!--responsive.css-->
<link rel="stylesheet" href="assets/css/responsive.css" />

<!--bootstrap5-->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<!--original.css-->
<link rel="stylesheet" href="assets/css/original.css" />

<!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
<style>
    .navfont{
        padding-top: 10px; background-color:transparent; border: none;color: #FFFFFF;
    }
    
    .fa:hover{
        color: rgb(0, 0, 0);
    }
</style>
  <style>
    .bd-placeholder-img {
      font-size: 1.125rem;
      text-anchor: middle;
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }

    @media (min-width: 768px) {
      .bd-placeholder-img-lg {
        font-size: 3.5rem;
      }
    }
  </style>
  <!-- Custom styles for this template -->
  <link href="statics/css/product.css" rel="stylesheet">
  <link href="statics/css/jquery-confirm.css" rel="stylesheet">

  <script src="statics/js/jquery-3.4.1.min.js"></script>
  <script src="statics/js/jquery-confirm.js"></script>
</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-light fixed-top" style="background-color: rgba(77,78,84,1);">
        <div class="container" style="height:78px; width: 1170px; margin-right: auto;margin-left: auto;"> 
          <a class="navbar-brand" href="#" style="color:#FFFFFF; font-weight: 600; font-size: 24px;">Tour<span style="color:rgb(0, 216, 255);">Nest</span></a>


            <ul class="navbar-nav navbar-right ms-auto">
              <li class="nav-item" style="padding-right:15px;">
                <a class="nav-link" style="color:#FFFFFF; font-size: 16.5px; " href="#">刊登家中空房</a>
              </li>
              <li class="nav-item" style="padding-right:20px;" >
                <a class="nav-link" style="color:#FFFFFF; font-size: 16.5px;" href="#">加入會員</a>
              </li>
              <li class="nav-item" style="padding-right:15px;">
                <button  style="color:#FFFFFF; width: 120px;background: rgb(0, 216, 255);    border-width: 1px;
                border-style: solid;font-size: 14px;
                border-color: rgb(0, 216, 255);border-radius: 5px;height: 40px;" >登入</button>
              </li>
            </ul>


        </div>
    </nav>

	

    <!--
        <div class="pricing-header px-3 py-3 pt-md-5 pb-md-4 mx-auto text-center bg-light">
    	<h1 class="display-4">購物車</h1>
    	<p class="lead">以下是目前存在於購物車之商品，請輸入訂單相關資訊後即可送出訂單！</p>
    </div>
    -->
    <form id="form" style=" padding-top:90px; padding-left: 90px; padding-right: 90px; color:#2a2a2e; font-size: large;">
        
            <div class="container" style="padding-top: 40px; border: 2px; border-color:#dddfe2; padding-left:60px; padding-right: 60px; background-color: #fcfcfc;">
                <div class="py-5">
                    <div class='row'>
                        
                            <div class="col-md-4 order-md-2 mb-4" style="font-weight: bold; font-size: large;">
                                <h4 class="d-flex justify-content-between align-items-center mb-3">
                                    <span class="text-muted">總計</span>
                                    <span id="date" class="badge badge-secondary badge-pill">YYYY/MM/DD</span>
                                </h4>
                                <ul class="list-group mb-3">
                                    <li class="list-group-item d-flex justify-content-between lh-condensed">
                                        <div>
                                        <h6 class="my-0">品項數量</h6>
                                        <small class="text-muted">Items</small>
                                        </div>
                                        <span id="total_item" class="text-muted">0</span>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between bg-light">
                                        <div class="text-success">
                                        <h6 class="my-0">產品總量</h6>
                                        <small>Quantities</small>
                                        </div>
                                        <span id="total_quantity" class="text-success">0</span>
                                    </li>
                                    <li class="list-group-item d-flex justify-content-between">
                                        <span>Total (USD)</span>
                                        <strong>$ <span id="summary">0.00</span></strong>
                                    </li>
                                </ul>
                                <!--<button id="check" class="btn btn-primary btn-lg btn-block" type="button" >結帳</button>-->
                                <button id="clean" class="btn btn-dark btn-lg btn-block" type="button">清空購物車</button>
                                <button id="next" class="btn btn-primary btn-lg btn-block" type="button" >下一步</button>
                            </div>
                            <div class="col-md-7 order-md-1">
                                <h3 class="mb-3" style="font-weight: bold;">個人資訊</h3>
                                <hr class="mb-4">
                                <div class="row">
                                    <div class="col-md-6 mb-2">
                                    <label for="lastName">姓</label>
                                    <input type="text" class="form-control" id="last_name" maxlength="10" value="" required>
                                    </div>
                    
                                    <div class="col-md-6 mb-4">
                                    <label for="firstName">名</label>
                                    <input type="text" class="form-control" id="first_name" maxlength="10" placeholder="" value="" required>
                                    </div>
                                </div>
                  
                                <div class="mb-4">
                                    <label for="email">Email <span class="text-muted">(Optional)</span></label>
                                    <input type="email" class="form-control" maxlength="50" id="email" placeholder="you@example.com">
                                </div>
                            </div>
                            
                            <div class="col-md-7 order-md-1">
                                <h3 class="mt-3 mb-3" style="font-weight: bold;">付款方式</h3>
                                <hr class="mb-4">
                            
                                <form name="form1" method="post" action="">  
                                    <div class="tab-content">
                                            <div class="row mb-4">
                                                <div class="col-md-3 mb-3">
                                                        <label for="address">線上付款</label>
                                                        <input type="radio" id="a1" name="pay" value="onlinepay" >
                                                </div>
                                                <div class="col-md-3 mb-3">
                                                        <label for="address">到場付款</label>
                                                        <input type="radio" id="a2" name="pay" value="scenepay">
                                                </div>
                                                
                                                <div id='onlinepay' style="display: none;" class="form">
                                                    <div class="text-center">
                                                        <h4>線上付款</h4>
                                                    </div>
                                                    <div class="input-group mb-3">
                                                        <div class="input-group-prepend">
                                                                <span class="input-group-text">信用卡卡號</span>
                                                        </div>
                                                        <input type="text" class="form-control" id="card_no" maxlength="16" >
                                                    </div>
                                                    <div class="input-group mb-3">
                                                        <div class="input-group-prepend">
                                                                <span class="input-group-text">有效月</span>
                                                        </div>
                                                        <input type="text" class="form-control" id="card_month" maxlength="2" placeholder="輸入月份" >
                                                    <div class="input-group-prepend">
                                                            <span class="input-group-text">有效年</span>
                                                    </div>
                                                    <input type="text" class="form-control" id="card_year" maxlength="2" placeholder="輸入年" >
                                                    <div class="input-group-prepend">
                                                            <label class="input-group-text">末三碼</label>
                                                    </div>
                                                    <input type="text" class="form-control" id="csv" maxlength="3" placeholder="輸入末三碼" >
                                                    </div>
                                                    <div class="form-group">
                                                    <span style="color: #fc3762;" id="domestic-card-error"></span>
                                                    </div>
                                                </div>
                                            </div>
                                    
                                            <div id='scenepay' style="display: none;" class="form">
                                                <div class="text-center">
                                                    <h4>到場付款</h4>
                                                </div>
                                                <div class="input-group mb-3">
                                                    <div class="input-group-prepend">
                                                            <span class="input-group-text">信用卡卡號</span>
                                                    </div>
                                                    <input type="text" class="form-control" id="card_no" maxlength="16" >
                                                </div>
                                                <div class="input-group mb-3">
                                                    <div class="input-group-prepend">
                                                            <span class="input-group-text">月</span>
                                                    </div>
                                                    <input type="text" class="form-control" id="card_month" maxlength="2" placeholder="輸入月份" >
                                                    <div class="input-group-prepend">
                                                            <span class="input-group-text">年</span>
                                                    </div>
                                                    <input type="text" class="form-control" id="card_year" maxlength="2" placeholder="輸入年" >
                                                    <div class="input-group-prepend">
                                                        <label class="input-group-text">末三碼</label>
                                                    </div>
                                                    <input type="text" class="form-control" id="csv" maxlength="3" placeholder="輸入末三碼" >
                                                </div>
                                                <div class="form-group">
                                                    <span style="color: #fc3762;" id="aboard-card-error"></span>
                                                </div>
                                            </div> 
                                            <div id="coupon" class="form">
                                                <div class="text_center">
                                                    <h3 class="mb-3" style="font-weight: bold;">優惠券</h3>
                                                    <hr class="mb-4">
                                                    <div class="row">
                                                        <div class="col-md-6 mb-2">
                                                            <label for="coupon">優惠券代碼</label>
                                                            <input type="text" class="form-control" id="coupon" maxlength="10" value="">
                                                        </div>
                                                    </div>
                                                </div>  
                                            </div>
                                    </div>
                                </form>
                            </div>
                        
                    </div>
                </div>
                
        
        
                    <h4 class="mb-3">商品資訊</h4>
                    <hr class="mb-4">
                    <div class="row">
                            <div class="table-responsive">
                            <table id="cart_table" class="table table-striped table-sm">
                                <thead>
                                <tr>
                                    <th class="text-center" style="width: 10%">商品編號</th>
                                    <th class="text-center" style="width: 30%">品名</th>
                                    <th class="text-center" style="width: 15%">單價</th>
                                    <th class="text-center" style="width: 10%">數量</th>
                                    <th class="text-center" style="width: 15%">小計</th>
                                    <th class="text-center" style="width: 10%">刪除</th>
                                </tr>
                                </thead>
                                <tbody>
                                </tbody>
                            </table>
                            </div>
                        </div>
                    </div>   
                </div>
            </div>
        
    </form>	
    
    <footer  class="footer-copyright">
        <div class="container">
            <div class="footer-content">
                <div class="row">

                    <div class="col-sm-3">
                        <div class="single-footer-item">
                            <div class="footer-logo">
                                <a href="index.html">
                                    tour<span>Nest</span>
                                </a>
                                <p>
                                    best travel agency
                                </p>
                            </div>
                        </div><!--/.single-footer-item-->
                    </div><!--/.col-->

                    <div class="col-sm-3">
                        <div class="single-footer-item">
                            <h2>link</h2>
                            <div class="single-footer-txt">
                                <p><a href="#">home</a></p>
                                <p><a href="#">destination</a></p>
                                <p><a href="#">spacial packages</a></p>
                                <p><a href="#">special offers</a></p>
                                <p><a href="#">blog</a></p>
                                <p><a href="#">contacts</a></p>
                            </div><!--/.single-footer-txt-->
                        </div><!--/.single-footer-item-->

                    </div><!--/.col-->

                    <div class="col-sm-3">
                        <div class="single-footer-item">
                            <h2>popular destination</h2>
                            <div class="single-footer-txt">
                                <p><a href="#">china</a></p>
                                <p><a href="#">venezuela</a></p>
                                <p><a href="#">brazil</a></p>
                                <p><a href="#">australia</a></p>
                                <p><a href="#">london</a></p>
                            </div><!--/.single-footer-txt-->
                        </div><!--/.single-footer-item-->
                    </div><!--/.col-->

                    <div class="col-sm-3">
                        <div class="single-footer-item text-center">
                            <h2 class="text-left">contacts</h2>
                            <div class="single-footer-txt text-left">
                                <p>+1 (300) 1234 6543</p>
                                <p class="foot-email"><a href="#">info@tnest.com</a></p>
                                <p>North Warnner Park 336/A</p>
                                <p>Newyork, USA</p>
                            </div><!--/.single-footer-txt-->
                        </div><!--/.single-footer-item-->
                    </div><!--/.col-->

                </div><!--/.row-->

            </div><!--/.footer-content-->
            <hr>
            <div class="foot-icons ">
                <ul class="footer-social-links list-inline list-unstyled">
                    <li><a href="#" target="_blank" class="foot-icon-bg-1"><i class="fa fa-facebook"></i></a></li>
                    <li><a href="#" target="_blank" class="foot-icon-bg-2"><i class="fa fa-twitter"></i></a></li>
                    <li><a href="#" target="_blank" class="foot-icon-bg-3"><i class="fa fa-instagram"></i></a></li>
                </ul>
                <p>&copy; 2017 <a href="https://www.themesine.com">ThemeSINE</a>. All Right Reserved</p>

            </div><!--/.foot-icons-->
            <div id="scroll-Top">
                <i class="fa fa-angle-double-up return-to-top" id="scroll-top" data-toggle="tooltip" data-placement="top" title="" data-original-title="Back to Top" aria-hidden="true"></i>
            </div><!--/.scroll-Top-->
        </div><!-- /.container-->

    </footer><!-- /.footer-copyright-->
	
</body>
<script>
		/*$('input[type=radio][name="pay"]').on('change', function() {
			  switch($(this).val()) {
			    case 'onlinepay':
			      $("#onlinepay").show();
			      $("#scenepay").hide();
			      break;
			    case 'scenepay':
			      $("#onlinepay").hide();
			      $("#scenepay").show();
			      break;
			  }      
			});//點選付款方式事件切換*/
			
		$("#next").click(function () {
		    	jump();
		    	});
		
		function jump(){
			if ($('input[name="pay"]:checked').val()=='onlinepay'){
				window.location.href='card.html';
			}
			else if($('input[name="pay"]:checked').val()=='scenepay'){
				window.location.href='cart.html';
			}
		}
	

	    $("#check").click(function () {
	    	confirm();
	    	});
	    	
	    function confirm() {	
		var pay_data = {
	    			"card_no": $("#card_no").val(),
	    			"card_month": $("#card_month").val(),
	    			"card_year": $("#card_year").val(),
	    			"csv": $("#csv").val()
	    	}

	    	// 驗證輸入的資料
	    	pass_vaild = vaild_payData(pay_data);
	    	if (pass_vaild) {
	    		var data_string = JSON.stringify(pay_data);
				
	    		
	    		// 發出POST的AJAX請求
	    		$.ajax({
	    	          type: "POST",
	    	          url: "api/payInfoController.do",
	    	          data: data_string,
	    	          crossDomain: true,
	    	          cache: false,
	    	          dataType: 'json',
	    	          timeout: 5000,
	    	          success: function (response) {
	    	              if(response.status == 200){
	    	              	$.confirm({
	    	                    theme: 'modern',
	    	                    icon: 'fa fa-check-circle-o',
	    	                    type: 'green',
	    	                    animation: 'scale',
	    	                    title: '系統提醒',
	    	                    content: "「購物車結帳成功」，已完成新增訂單！"
	    	                });
	    	              }
	    	          },
	    	          error: function () {
	    	              alert("無法連線到伺服器！");
	    	          }
	    	        });
	    		
	    	}
	    }

	    $("#clean").click(function () {
	    	console.log("[@Action]清空購物車");
	    	cleanAllData();
	    });

	   
	    
	    function vaild_payData(pay_data) {
	    	
	    	var card_no_rule = /^\d{16}$/;
	    	var card_month_rule = /^\d{1,2}$/;
	    	var card_year_rule = /^\d{2}$/;
	    	var csv_rule = /^\d{3}$/;
	    	
	    	if (pay_data["card_no"] == "" || pay_data["card_month"] == "" || pay_data['card_year'] == "" || pay_data['csv'] == "")  alert("必填寫欄位不得有空值！");
	    	else if (pay_data["card_no"] != "" && !card_no_rule.test(pay_data["card_no"])) alert("卡號格式不符！");
	    	else if (pay_data['card_month'] != "" && !card_month_rule.test(pay_data['card_month'])) alert("月格式不符！");
	    	else if (pay_data['card_year'] != "" && !card_year_rule.test(pay_data['card_year'])) alert("年格式不符！");
	    	else if (!csv_rule.test(pay_data['csv'])) alert("安全碼格式不符！");
	    	else {
	    		return true;}

	    	return false;
	    }
	    
	    //enter
	    $(document).keypress(function(event){
	    	var keynum = event.keyCode;
	    	if(keynum == '13'){
	    		$("#check").trigger("click");
	    	}
	    });
</script>

